<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bit vector: bit_vector/internal/bit_vector.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bit vector
   &#160;<span id="projectnumber">0.9</span>
   </div>
   <div id="projectbrief">Fast and space efficient dynamic bit vector library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_155b0d4b6b21b2b6c1f2d2152c1b3129.html">bit_vector</a></li><li class="navelem"><a class="el" href="dir_9de30e44f809b1527c464e5f0b53d68e.html">internal</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">bit_vector.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef BV_BIT_VECTOR_HPP</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define BV_BIT_VECTOR_HPP</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#ifndef WORD_BITS</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#define WORD_BITS 64</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;query_support.hpp&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">namespace </span><a class="code" href="bv_8hpp.html#a4b92c0a07b306636aec9f18892e47447">bv</a> {</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class </span>leaf, <span class="keyword">class </span>node, <span class="keyword">class </span>allocator, uint64_t leaf_size,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;          uint8_t branches, <span class="keyword">class </span>dtype&gt;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html">   37</a></span>&#160;<span class="keyword">class </span><a class="code" href="classbv_1_1bit__vector.html">bit_vector</a> {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;   <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">   39</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> = <span class="keyword">true</span>;      </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classbv_1_1bit__vector.html#a18afd5d8170208dd040d7c4845b42b10">owned_allocator_</a> = <span class="keyword">false</span>;  </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classbv_1_1node.html">node</a>* <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>;  </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classbv_1_1leaf.html">leaf</a>* <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>;  </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">   47</a></span>&#160;    allocator* <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>;  </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a1e991908e2749805c303ee52033c9d14">   59</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classbv_1_1bit__vector.html#a1e991908e2749805c303ee52033c9d14">split_root</a>() {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="classbv_1_1node.html">node</a>* new_root = <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;template allocate_node&lt;node&gt;();</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="classbv_1_1node.html">node</a>* sibling = <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;template allocate_node&lt;node&gt;();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#ab25112ec2200c74cb83b6feab93ef9a1">has_leaves</a>()) sibling-&gt;<a class="code" href="classbv_1_1node.html#ab25112ec2200c74cb83b6feab93ef9a1">has_leaves</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        sibling-&gt;<a class="code" href="classbv_1_1node.html#afd5c13dba4cac468ffc2513f55335dae">transfer_prepend</a>(<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>, branches / 2);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        new_root-&gt;<a class="code" href="classbv_1_1node.html#a667820844114f3bb0004272dcc8c077b">append_child</a>(<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        new_root-&gt;<a class="code" href="classbv_1_1node.html#a667820844114f3bb0004272dcc8c077b">append_child</a>(sibling);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a> = new_root;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#afa31ef41be5f20c1ac67260a14877160">   80</a></span>&#160;    <a class="code" href="classbv_1_1bit__vector.html#afa31ef41be5f20c1ac67260a14877160">bit_vector</a>(allocator* alloc) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a> = alloc;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a> = <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;template allocate_leaf&lt;leaf&gt;(leaf_size /</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                                           (2 * WORD_BITS));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#aed34138f9c8bc42e139a4737a978a1cd">   92</a></span>&#160;    <a class="code" href="classbv_1_1bit__vector.html#aed34138f9c8bc42e139a4737a978a1cd">bit_vector</a>() {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a> = <span class="keyword">new</span> allocator();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <a class="code" href="classbv_1_1bit__vector.html#a18afd5d8170208dd040d7c4845b42b10">owned_allocator_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a> = <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;template allocate_leaf&lt;leaf&gt;(leaf_size /</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                                           (2 * WORD_BITS));</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a626e6b4e4fb95b2b6b28982669899556">  107</a></span>&#160;    <a class="code" href="classbv_1_1bit__vector.html#a626e6b4e4fb95b2b6b28982669899556">~bit_vector</a>() {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a>) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;deallocate_leaf(<a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#ae139057da6d7a5e248b321f3914468e6">deallocate</a>(<a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;deallocate_node(<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a18afd5d8170208dd040d7c4845b42b10">owned_allocator_</a>) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keyword">delete</span> (<a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">template</span> &lt;dtype block_size = leaf_size / 3&gt;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#aca847b9c081d8b677f5bd7b7b8b88d3e">  129</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classbv_1_1bit__vector.html#aca847b9c081d8b677f5bd7b7b8b88d3e">generate_query_structure</a>(</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <a class="code" href="classbv_1_1query__support.html">query_support&lt;dtype, leaf, block_size&gt;</a>* qs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        static_assert(block_size * 3 &lt;= leaf_size);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        static_assert(block_size &gt;= 2 * 64);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a>) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            [[unlikely]] qs-&gt;append(<a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;generate_query_structure(qs);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        qs-&gt;finalize();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keyword">template</span> &lt;dtype block_size = leaf_size / 3&gt;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#ae94dbda4eac1f26f93e8b9c37a058d98">  150</a></span>&#160;    <a class="code" href="classbv_1_1query__support.html">query_support&lt;dtype, leaf, block_size&gt;</a>* <a class="code" href="classbv_1_1bit__vector.html#ae94dbda4eac1f26f93e8b9c37a058d98">generate_query_structure</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        static_assert(block_size * 3 &lt;= leaf_size);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="classbv_1_1query__support.html">query_support&lt;dtype, leaf, block_size&gt;</a>* qs =</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keyword">new</span> <a class="code" href="classbv_1_1query__support.html">query_support&lt;dtype, leaf, block_size&gt;</a>();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="classbv_1_1bit__vector.html#ae94dbda4eac1f26f93e8b9c37a058d98">generate_query_structure</a>(qs);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">return</span> qs;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a50359f3006b3385bca19c1f66837989f">  174</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classbv_1_1bit__vector.html#a50359f3006b3385bca19c1f66837989f">insert</a>(uint64_t index, <span class="keywordtype">bool</span> value) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">if</span> (index &gt; <a class="code" href="classbv_1_1bit__vector.html#a27db13321587d2d1d6d84c656c5c57e4">size</a>()) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;Invalid insertion to index &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; for &quot;</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                      &lt;&lt; <a class="code" href="classbv_1_1bit__vector.html#a27db13321587d2d1d6d84c656c5c57e4">size</a>() &lt;&lt; <span class="stringliteral">&quot; element bit vector.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            assert(index &lt;= <a class="code" href="classbv_1_1bit__vector.html#a27db13321587d2d1d6d84c656c5c57e4">size</a>());</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a>) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#a72b6cbe028c84fa34c1bbecec8adf56a">need_realloc</a>()) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#aa74c1e34145f7acd5c61ccdec116e49f">size</a>() &gt;= leaf_size) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    <a class="code" href="classbv_1_1leaf.html">leaf</a>* sibling = <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;template allocate_leaf&lt;leaf&gt;(</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                        leaf_size / (2 * WORD_BITS));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    sibling-&gt;<a class="code" href="classbv_1_1leaf.html#affaa678c11098f7b1df0ce42132a4cc8">transfer_append</a>(<a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>, leaf_size / 2);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a> = <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;template allocate_node&lt;node&gt;();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#ab25112ec2200c74cb83b6feab93ef9a1">has_leaves</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#a667820844114f3bb0004272dcc8c077b">append_child</a>(sibling);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#a667820844114f3bb0004272dcc8c077b">append_child</a>(<a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#acf15e749a6311c34ae62eaa4ad9ddfd9">insert</a>(index, value, <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    uint64_t cap = <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#ad9eafe86e48fe7ba0f0381520ac30531">capacity</a>();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a> =</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                        <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;reallocate_leaf(<a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>, cap, cap + 2);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    [[likely]] <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#a381923edd5cf825653e30b47455d995d">insert</a>(index, value);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                [[likely]] <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#a381923edd5cf825653e30b47455d995d">insert</a>(index, value);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#ac847a9047faf8dfbd52b3a2b91197cf0">child_count</a>() == branches) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                [[unlikely]] <a class="code" href="classbv_1_1bit__vector.html#a1e991908e2749805c303ee52033c9d14">split_root</a>();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            [[likely]] <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#acf15e749a6311c34ae62eaa4ad9ddfd9">insert</a>(index, value, <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#af90c658e7247819d6ce5c6c2e122f847">  233</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classbv_1_1bit__vector.html#af90c658e7247819d6ce5c6c2e122f847">remove</a>(uint64_t index) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a>) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            [[unlikely]] <span class="keywordflow">return</span> <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#a70cac3c8e3fd04423245e6619d9c5fcc">remove</a>(index);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordtype">bool</span> v = <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#ada1ee834ac68d417cfcdfd18b098b98b">remove</a>(index, <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#ac847a9047faf8dfbd52b3a2b91197cf0">child_count</a>() == 1) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#ab25112ec2200c74cb83b6feab93ef9a1">has_leaves</a>()) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classbv_1_1leaf.html">leaf</a>*<span class="keyword">&gt;</span>(<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#a95404ba2d241e1621c305ec511026fce">child</a>(0));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;deallocate_node(<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    <a class="code" href="classbv_1_1node.html">node</a>* new_root = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classbv_1_1node.html">node</a>*<span class="keyword">&gt;</span>(<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#a95404ba2d241e1621c305ec511026fce">child</a>(0));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;deallocate_node(<a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a> = new_root;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                [[unlikely]] (void(0));</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a8bc35998360ebf979440b900a7f0cb0d">  263</a></span>&#160;    uint64_t <a class="code" href="classbv_1_1bit__vector.html#a8bc35998360ebf979440b900a7f0cb0d">sum</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> ? <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#a3bf18e7fb6cd2f123b4ac9726dacdbee">p_sum</a>() : <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#a5b695c79739b5c77d8fe808f85dd848a">p_sum</a>();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a27db13321587d2d1d6d84c656c5c57e4">  275</a></span>&#160;    uint64_t <a class="code" href="classbv_1_1bit__vector.html#a27db13321587d2d1d6d84c656c5c57e4">size</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> ? <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#acbdfb951964fa5b8583178a79671e392">size</a>() : <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#aa74c1e34145f7acd5c61ccdec116e49f">size</a>();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a7d8e0e257c0c1d71285afd14c24b3714">  297</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classbv_1_1bit__vector.html#a7d8e0e257c0c1d71285afd14c24b3714">at</a>(uint64_t index)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> ? <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#ac704bf7b4d5ddfc2f150f9d73ee68bea">at</a>(index) : <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#af308d5eeb5d80e924ed180db52bb0ee2">at</a>(index);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a42e09275d4a5894bd22bd15fdcf748f3">  315</a></span>&#160;    uint64_t <a class="code" href="classbv_1_1bit__vector.html#a42e09275d4a5894bd22bd15fdcf748f3">rank</a>(uint64_t index)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> ? <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#afe9c306d0befba0e1fca4d6178aaf6f0">rank</a>(index) : <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#ae7dfb0c74b9839b550055fd93dc8cf3e">rank</a>(index);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a5cce189fc9895ebb1b44f4fe4f9cb2eb">  333</a></span>&#160;    uint64_t <a class="code" href="classbv_1_1bit__vector.html#a5cce189fc9895ebb1b44f4fe4f9cb2eb">select</a>(uint64_t count)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> ? <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#ab48b17e82e1a4a81aa80d6fd38991383">select</a>(count) : <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#aae36d25acec747b82fb12da32c347661">select</a>(count);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#adf657ea587d49412b81044fc245c853f">  349</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classbv_1_1bit__vector.html#adf657ea587d49412b81044fc245c853f">set</a>(uint64_t index, <span class="keywordtype">bool</span> value) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        !<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> ? <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#a2bf12280dae2634721d0d8d8206fee63">set</a>(index, value)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                       : <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#a19d80e6c67137a30ab9c31d5b3021101">set</a>(index, value);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a6c86a5406563b81482628ae018ea8e30">  361</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classbv_1_1bit__vector.html#a6c86a5406563b81482628ae018ea8e30">flush</a>() { <a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> ? <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#acce27752df1df5ebe6b1fd6c17e79c55">commit</a>() : <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;flush(); }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a852e5ff9b92c149b3a6698fb53e918f6">  374</a></span>&#160;    uint64_t <a class="code" href="classbv_1_1bit__vector.html#a852e5ff9b92c149b3a6698fb53e918f6">bit_size</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        uint64_t tree_size =</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> ? <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#a7104583e1fed9975f0313b771cf78d07">bits_size</a>() : <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#ac8058dc416614319ee5c00c473dc8146">bits_size</a>();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">return</span> 8 * <span class="keyword">sizeof</span>(<a class="code" href="classbv_1_1bit__vector.html#aed34138f9c8bc42e139a4737a978a1cd">bit_vector</a>) + tree_size;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#a91f68d3946754d40c7257416f2132b75">  394</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classbv_1_1bit__vector.html#a91f68d3946754d40c7257416f2132b75">validate</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a18afd5d8170208dd040d7c4845b42b10">owned_allocator_</a>) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            uint64_t allocs = <a class="code" href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">allocator_</a>-&gt;live_allocations();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a>) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                assert(allocs == <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#aa8a8696df9bdda57a46e824c79e24dcc">validate</a>());</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                assert(allocs == <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#af6f9dc1092d0dbac400e2eaa0787ae17">validate</a>());</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a>)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#aa8a8696df9bdda57a46e824c79e24dcc">validate</a>();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#af6f9dc1092d0dbac400e2eaa0787ae17">validate</a>();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="classbv_1_1bit__vector.html#ab4d2162a502c79f77869c4bd1aaf2446">  416</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classbv_1_1bit__vector.html#ab4d2162a502c79f77869c4bd1aaf2446">print</a>(<span class="keywordtype">bool</span> internal_only)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">root_is_leaf_</a> ? <a class="code" href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">l_root_</a>-&gt;<a class="code" href="classbv_1_1leaf.html#a1f1766922dc590897519b4fb1c851430">print</a>(internal_only)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                      : <a class="code" href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">n_root_</a>-&gt;<a class="code" href="classbv_1_1node.html#a102f163e9ac6b0842c11ce624aa19642">print</a>(internal_only);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        std::cout &lt;&lt; std::endl;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;};</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}  <span class="comment">// namespace bv</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassbv_1_1bit__vector_html_adf657ea587d49412b81044fc245c853f"><div class="ttname"><a href="classbv_1_1bit__vector.html#adf657ea587d49412b81044fc245c853f">bv::bit_vector::set</a></div><div class="ttdeci">void set(uint64_t index, bool value)</div><div class="ttdoc">Sets the bit at &quot;index&quot; to &quot;value&quot;.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:349</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_a19d80e6c67137a30ab9c31d5b3021101"><div class="ttname"><a href="classbv_1_1leaf.html#a19d80e6c67137a30ab9c31d5b3021101">bv::leaf::set</a></div><div class="ttdeci">int set(const uint64_t i, const bool x)</div><div class="ttdoc">Set the ith bit to x.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:274</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_aca847b9c081d8b677f5bd7b7b8b88d3e"><div class="ttname"><a href="classbv_1_1bit__vector.html#aca847b9c081d8b677f5bd7b7b8b88d3e">bv::bit_vector::generate_query_structure</a></div><div class="ttdeci">void generate_query_structure(query_support&lt; dtype, leaf, block_size &gt; *qs) const</div><div class="ttdoc">Populate a given query support stucture using this</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:129</div></div>
<div class="ttc" id="aclassbv_1_1node_html_a2bf12280dae2634721d0d8d8206fee63"><div class="ttname"><a href="classbv_1_1node.html#a2bf12280dae2634721d0d8d8206fee63">bv::node::set</a></div><div class="ttdeci">int set(dtype index, bool v)</div><div class="ttdoc">Set the value of the logical indexth element to v.</div><div class="ttdef"><b>Definition:</b> node.hpp:174</div></div>
<div class="ttc" id="aclassbv_1_1node_html_ae139057da6d7a5e248b321f3914468e6"><div class="ttname"><a href="classbv_1_1node.html#ae139057da6d7a5e248b321f3914468e6">bv::node::deallocate</a></div><div class="ttdeci">void deallocate(allocator *alloc)</div><div class="ttdoc">Recursively deallocates all children.</div><div class="ttdef"><b>Definition:</b> node.hpp:258</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_aa8a8696df9bdda57a46e824c79e24dcc"><div class="ttname"><a href="classbv_1_1leaf.html#aa8a8696df9bdda57a46e824c79e24dcc">bv::leaf::validate</a></div><div class="ttdeci">uint64_t validate() const</div><div class="ttdoc">Ensure that the leaf is in a valid state.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:949</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a8bc35998360ebf979440b900a7f0cb0d"><div class="ttname"><a href="classbv_1_1bit__vector.html#a8bc35998360ebf979440b900a7f0cb0d">bv::bit_vector::sum</a></div><div class="ttdeci">uint64_t sum() const</div><div class="ttdoc">Number of 1-bits in the data structure.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:263</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_ae94dbda4eac1f26f93e8b9c37a058d98"><div class="ttname"><a href="classbv_1_1bit__vector.html#ae94dbda4eac1f26f93e8b9c37a058d98">bv::bit_vector::generate_query_structure</a></div><div class="ttdeci">query_support&lt; dtype, leaf, block_size &gt; * generate_query_structure() const</div><div class="ttdoc">Create and Populate a query support structure using this</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:150</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a852e5ff9b92c149b3a6698fb53e918f6"><div class="ttname"><a href="classbv_1_1bit__vector.html#a852e5ff9b92c149b3a6698fb53e918f6">bv::bit_vector::bit_size</a></div><div class="ttdeci">uint64_t bit_size() const</div><div class="ttdoc">Total size of data structure allocations in bits.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:374</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html"><div class="ttname"><a href="classbv_1_1bit__vector.html">bv::bit_vector</a></div><div class="ttdoc">Container class for dynamic b-tree bit vector stuctures.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:37</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a27db13321587d2d1d6d84c656c5c57e4"><div class="ttname"><a href="classbv_1_1bit__vector.html#a27db13321587d2d1d6d84c656c5c57e4">bv::bit_vector::size</a></div><div class="ttdeci">uint64_t size() const</div><div class="ttdoc">Number of elements stored in the data structure.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:275</div></div>
<div class="ttc" id="aclassbv_1_1query__support_html"><div class="ttname"><a href="classbv_1_1query__support.html">bv::query_support</a></div><div class="ttdoc">Support strucutre for bv::bit_vector to enable fast queries.</div><div class="ttdef"><b>Definition:</b> query_support.hpp:41</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_affaa678c11098f7b1df0ce42132a4cc8"><div class="ttname"><a href="classbv_1_1leaf.html#affaa678c11098f7b1df0ce42132a4cc8">bv::leaf::transfer_append</a></div><div class="ttdeci">void transfer_append(leaf *other, uint64_t elems)</div><div class="ttdoc">Move &quot;elems&quot; elements from the start of &quot;other&quot; to the end of &quot;this&quot;.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:618</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a18afd5d8170208dd040d7c4845b42b10"><div class="ttname"><a href="classbv_1_1bit__vector.html#a18afd5d8170208dd040d7c4845b42b10">bv::bit_vector::owned_allocator_</a></div><div class="ttdeci">bool owned_allocator_</div><div class="ttdoc">True if deallocating the allocator is the responsibilty of the data structure.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:41</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a6c86a5406563b81482628ae018ea8e30"><div class="ttname"><a href="classbv_1_1bit__vector.html#a6c86a5406563b81482628ae018ea8e30">bv::bit_vector::flush</a></div><div class="ttdeci">void flush()</div><div class="ttdoc">Recursively flushes all buffers in the data structure.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:361</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_af308d5eeb5d80e924ed180db52bb0ee2"><div class="ttname"><a href="classbv_1_1leaf.html#af308d5eeb5d80e924ed180db52bb0ee2">bv::leaf::at</a></div><div class="ttdeci">bool at(const uint32_t i) const</div><div class="ttdoc">Get the value of the ith element in the leaf.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:101</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_a5b695c79739b5c77d8fe808f85dd848a"><div class="ttname"><a href="classbv_1_1leaf.html#a5b695c79739b5c77d8fe808f85dd848a">bv::leaf::p_sum</a></div><div class="ttdeci">uint32_t p_sum() const</div><div class="ttdoc">Getter for p_sum_.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:122</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a77524afbfe09f1f45a15a2a7927c49d7"><div class="ttname"><a href="classbv_1_1bit__vector.html#a77524afbfe09f1f45a15a2a7927c49d7">bv::bit_vector::root_is_leaf_</a></div><div class="ttdeci">bool root_is_leaf_</div><div class="ttdoc">Value indicating whether the root is in n_root_ or l_root_.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:39</div></div>
<div class="ttc" id="aclassbv_1_1node_html_afe9c306d0befba0e1fca4d6178aaf6f0"><div class="ttname"><a href="classbv_1_1node.html#afe9c306d0befba0e1fca4d6178aaf6f0">bv::node::rank</a></div><div class="ttdeci">dtype rank(dtype index) const</div><div class="ttdoc">Counts number of one bits up to the indexth logical element.</div><div class="ttdef"><b>Definition:</b> node.hpp:202</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a42e09275d4a5894bd22bd15fdcf748f3"><div class="ttname"><a href="classbv_1_1bit__vector.html#a42e09275d4a5894bd22bd15fdcf748f3">bv::bit_vector::rank</a></div><div class="ttdeci">uint64_t rank(uint64_t index) const</div><div class="ttdoc">Number of 1-bits up to position index.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:315</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a626e6b4e4fb95b2b6b28982669899556"><div class="ttname"><a href="classbv_1_1bit__vector.html#a626e6b4e4fb95b2b6b28982669899556">bv::bit_vector::~bit_vector</a></div><div class="ttdeci">~bit_vector()</div><div class="ttdoc">Deconstructor that deallocates the entire data structure.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:107</div></div>
<div class="ttc" id="aclassbv_1_1node_html_a3bf18e7fb6cd2f123b4ac9726dacdbee"><div class="ttname"><a href="classbv_1_1node.html#a3bf18e7fb6cd2f123b4ac9726dacdbee">bv::node::p_sum</a></div><div class="ttdeci">dtype p_sum() const</div><div class="ttdoc">Logical number of 1-bits stored in the subtree.</div><div class="ttdef"><b>Definition:</b> node.hpp:323</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_a1f1766922dc590897519b4fb1c851430"><div class="ttname"><a href="classbv_1_1leaf.html#a1f1766922dc590897519b4fb1c851430">bv::leaf::print</a></div><div class="ttdeci">void print(bool internal_only) const</div><div class="ttdoc">Output data stored in the leaf as json.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:976</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_afa31ef41be5f20c1ac67260a14877160"><div class="ttname"><a href="classbv_1_1bit__vector.html#afa31ef41be5f20c1ac67260a14877160">bv::bit_vector::bit_vector</a></div><div class="ttdeci">bit_vector(allocator *alloc)</div><div class="ttdoc">Bit vector constructor with existing allocator.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:80</div></div>
<div class="ttc" id="abv_8hpp_html_a4b92c0a07b306636aec9f18892e47447"><div class="ttname"><a href="bv_8hpp.html#a4b92c0a07b306636aec9f18892e47447">bv::bv</a></div><div class="ttdeci">simple_bv&lt; 8, 16384, 64 &gt; bv</div><div class="ttdoc">Default dynamic bit vector type.</div><div class="ttdef"><b>Definition:</b> bv.hpp:94</div></div>
<div class="ttc" id="aclassbv_1_1node_html_acf15e749a6311c34ae62eaa4ad9ddfd9"><div class="ttname"><a href="classbv_1_1node.html#acf15e749a6311c34ae62eaa4ad9ddfd9">bv::node::insert</a></div><div class="ttdeci">void insert(dtype index, bool value, allocator *alloc)</div><div class="ttdoc">Insert &quot;value&quot; at &quot;index&quot;.</div><div class="ttdef"><b>Definition:</b> node.hpp:369</div></div>
<div class="ttc" id="aclassbv_1_1node_html_a667820844114f3bb0004272dcc8c077b"><div class="ttname"><a href="classbv_1_1node.html#a667820844114f3bb0004272dcc8c077b">bv::node::append_child</a></div><div class="ttdeci">void append_child(child *new_child)</div><div class="ttdoc">Add child to the subtree.</div><div class="ttdef"><b>Definition:</b> node.hpp:337</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_ad9eafe86e48fe7ba0f0381520ac30531"><div class="ttname"><a href="classbv_1_1leaf.html#ad9eafe86e48fe7ba0f0381520ac30531">bv::leaf::capacity</a></div><div class="ttdeci">uint32_t capacity() const</div><div class="ttdoc">Size of the leaf-associated data storage in 64-bit words.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:517</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a1e991908e2749805c303ee52033c9d14"><div class="ttname"><a href="classbv_1_1bit__vector.html#a1e991908e2749805c303ee52033c9d14">bv::bit_vector::split_root</a></div><div class="ttdeci">void split_root()</div><div class="ttdoc">Increases the height of the tree by one level.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:59</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html"><div class="ttname"><a href="classbv_1_1leaf.html">bv::leaf</a></div><div class="ttdoc">Simple flat dynamic bit vector for use as a leaf for a dynamic b-tree bit vector.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:47</div></div>
<div class="ttc" id="aclassbv_1_1node_html_a95404ba2d241e1621c305ec511026fce"><div class="ttname"><a href="classbv_1_1node.html#a95404ba2d241e1621c305ec511026fce">bv::node::child</a></div><div class="ttdeci">void * child(uint8_t i)</div><div class="ttdoc">Get ith child of the node.</div><div class="ttdef"><b>Definition:</b> node.hpp:353</div></div>
<div class="ttc" id="aclassbv_1_1node_html_a102f163e9ac6b0842c11ce624aa19642"><div class="ttname"><a href="classbv_1_1node.html#a102f163e9ac6b0842c11ce624aa19642">bv::node::print</a></div><div class="ttdeci">void print(bool internal_only) const</div><div class="ttdoc">Outputs this subtree as json.</div><div class="ttdef"><b>Definition:</b> node.hpp:606</div></div>
<div class="ttc" id="aclassbv_1_1node_html_ab25112ec2200c74cb83b6feab93ef9a1"><div class="ttname"><a href="classbv_1_1node.html#ab25112ec2200c74cb83b6feab93ef9a1">bv::node::has_leaves</a></div><div class="ttdeci">void has_leaves(bool leaves)</div><div class="ttdoc">Set whether the children of the node are leaves or internal nodes.</div><div class="ttdef"><b>Definition:</b> node.hpp:131</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_a381923edd5cf825653e30b47455d995d"><div class="ttname"><a href="classbv_1_1leaf.html#a381923edd5cf825653e30b47455d995d">bv::leaf::insert</a></div><div class="ttdeci">void insert(const uint64_t i, const bool x)</div><div class="ttdoc">Insert x into position i.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:140</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_a70cac3c8e3fd04423245e6619d9c5fcc"><div class="ttname"><a href="classbv_1_1leaf.html#a70cac3c8e3fd04423245e6619d9c5fcc">bv::leaf::remove</a></div><div class="ttdeci">bool remove(const uint64_t i)</div><div class="ttdoc">Remove the ith bit from the leaf.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:207</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_af90c658e7247819d6ce5c6c2e122f847"><div class="ttname"><a href="classbv_1_1bit__vector.html#af90c658e7247819d6ce5c6c2e122f847">bv::bit_vector::remove</a></div><div class="ttdeci">bool remove(uint64_t index)</div><div class="ttdoc">Remove element at &quot;index&quot;.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:233</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_aa74c1e34145f7acd5c61ccdec116e49f"><div class="ttname"><a href="classbv_1_1leaf.html#aa74c1e34145f7acd5c61ccdec116e49f">bv::leaf::size</a></div><div class="ttdeci">uint32_t size() const</div><div class="ttdoc">Getter for size_.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:124</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_aed34138f9c8bc42e139a4737a978a1cd"><div class="ttname"><a href="classbv_1_1bit__vector.html#aed34138f9c8bc42e139a4737a978a1cd">bv::bit_vector::bit_vector</a></div><div class="ttdeci">bit_vector()</div><div class="ttdoc">Default constructor that creates an owned allocator.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:92</div></div>
<div class="ttc" id="aclassbv_1_1node_html_acbdfb951964fa5b8583178a79671e392"><div class="ttname"><a href="classbv_1_1node.html#acbdfb951964fa5b8583178a79671e392">bv::node::size</a></div><div class="ttdeci">dtype size() const</div><div class="ttdoc">Logical number of elements stored in the subtree.</div><div class="ttdef"><b>Definition:</b> node.hpp:314</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a9e68bb9811acf634b39ed401b5e9cb69"><div class="ttname"><a href="classbv_1_1bit__vector.html#a9e68bb9811acf634b39ed401b5e9cb69">bv::bit_vector::l_root_</a></div><div class="ttdeci">leaf * l_root_</div><div class="ttdoc">Root if a single leaf is sufficient.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:46</div></div>
<div class="ttc" id="aclassbv_1_1node_html_ada1ee834ac68d417cfcdfd18b098b98b"><div class="ttname"><a href="classbv_1_1node.html#ada1ee834ac68d417cfcdfd18b098b98b">bv::node::remove</a></div><div class="ttdeci">bool remove(dtype index, allocator *alloc)</div><div class="ttdoc">Remove the indexth element.</div><div class="ttdef"><b>Definition:</b> node.hpp:389</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_aa4a5b14e0bfcaa25ed972d9ee923debc"><div class="ttname"><a href="classbv_1_1bit__vector.html#aa4a5b14e0bfcaa25ed972d9ee923debc">bv::bit_vector::allocator_</a></div><div class="ttdeci">allocator * allocator_</div><div class="ttdoc">Pointer to allocator used for allocating internal nodes and leaves.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:47</div></div>
<div class="ttc" id="aclassbv_1_1node_html_ab48b17e82e1a4a81aa80d6fd38991383"><div class="ttname"><a href="classbv_1_1node.html#ab48b17e82e1a4a81aa80d6fd38991383">bv::node::select</a></div><div class="ttdeci">dtype select(dtype count) const</div><div class="ttdoc">Calculates the index of the counttu 1-bit.</div><div class="ttdef"><b>Definition:</b> node.hpp:230</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_a72b6cbe028c84fa34c1bbecec8adf56a"><div class="ttname"><a href="classbv_1_1leaf.html#a72b6cbe028c84fa34c1bbecec8adf56a">bv::leaf::need_realloc</a></div><div class="ttdeci">bool need_realloc() const</div><div class="ttdoc">Determine if reallocation / splitting is required prior to additional insertion of new elements.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:508</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a7d8e0e257c0c1d71285afd14c24b3714"><div class="ttname"><a href="classbv_1_1bit__vector.html#a7d8e0e257c0c1d71285afd14c24b3714">bv::bit_vector::at</a></div><div class="ttdeci">bool at(uint64_t index) const</div><div class="ttdoc">Retrieves the value of the indexth element in the data structure.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:297</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_a7104583e1fed9975f0313b771cf78d07"><div class="ttname"><a href="classbv_1_1leaf.html#a7104583e1fed9975f0313b771cf78d07">bv::leaf::bits_size</a></div><div class="ttdeci">uint64_t bits_size() const</div><div class="ttdoc">Size of the leaf and associated data in bits.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:497</div></div>
<div class="ttc" id="aclassbv_1_1node_html_af6f9dc1092d0dbac400e2eaa0787ae17"><div class="ttname"><a href="classbv_1_1node.html#af6f9dc1092d0dbac400e2eaa0787ae17">bv::node::validate</a></div><div class="ttdeci">uint64_t validate() const</div><div class="ttdoc">Check that the subtree structure is internally consistent.</div><div class="ttdef"><b>Definition:</b> node.hpp:563</div></div>
<div class="ttc" id="aclassbv_1_1node_html"><div class="ttname"><a href="classbv_1_1node.html">bv::node</a></div><div class="ttdoc">Internal node for use with bit vector b-tree structures.</div><div class="ttdef"><b>Definition:</b> node.hpp:65</div></div>
<div class="ttc" id="aclassbv_1_1node_html_ac704bf7b4d5ddfc2f150f9d73ee68bea"><div class="ttname"><a href="classbv_1_1node.html#ac704bf7b4d5ddfc2f150f9d73ee68bea">bv::node::at</a></div><div class="ttdeci">bool at(dtype index) const</div><div class="ttdoc">Access the value of the indexth element of the logical structure.</div><div class="ttdef"><b>Definition:</b> node.hpp:150</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_acce27752df1df5ebe6b1fd6c17e79c55"><div class="ttname"><a href="classbv_1_1leaf.html#acce27752df1df5ebe6b1fd6c17e79c55">bv::leaf::commit</a></div><div class="ttdeci">void commit()</div><div class="ttdoc">Commit and clear the Insert/Remove buffer for the leaf.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:835</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a5cce189fc9895ebb1b44f4fe4f9cb2eb"><div class="ttname"><a href="classbv_1_1bit__vector.html#a5cce189fc9895ebb1b44f4fe4f9cb2eb">bv::bit_vector::select</a></div><div class="ttdeci">uint64_t select(uint64_t count) const</div><div class="ttdoc">Index of the countth 1-bit in the data structure.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:333</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_ae7dfb0c74b9839b550055fd93dc8cf3e"><div class="ttname"><a href="classbv_1_1leaf.html#ae7dfb0c74b9839b550055fd93dc8cf3e">bv::leaf::rank</a></div><div class="ttdeci">uint32_t rank(const uint64_t n) const</div><div class="ttdoc">Number of 1-bits up to position n.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:323</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a756dec3c572889c7c9af2a04dfc515db"><div class="ttname"><a href="classbv_1_1bit__vector.html#a756dec3c572889c7c9af2a04dfc515db">bv::bit_vector::n_root_</a></div><div class="ttdeci">node * n_root_</div><div class="ttdoc">Root of the b-tree if a multi-level structure is required.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:44</div></div>
<div class="ttc" id="aclassbv_1_1node_html_ac8058dc416614319ee5c00c473dc8146"><div class="ttname"><a href="classbv_1_1node.html#ac8058dc416614319ee5c00c473dc8146">bv::node::bits_size</a></div><div class="ttdeci">uint64_t bits_size() const</div><div class="ttdoc">Size of the subtree in &quot;allocated&quot; bits.</div><div class="ttdef"><b>Definition:</b> node.hpp:511</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a50359f3006b3385bca19c1f66837989f"><div class="ttname"><a href="classbv_1_1bit__vector.html#a50359f3006b3385bca19c1f66837989f">bv::bit_vector::insert</a></div><div class="ttdeci">void insert(uint64_t index, bool value)</div><div class="ttdoc">Insert &quot;value&quot; into position &quot;index&quot;.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:174</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_a91f68d3946754d40c7257416f2132b75"><div class="ttname"><a href="classbv_1_1bit__vector.html#a91f68d3946754d40c7257416f2132b75">bv::bit_vector::validate</a></div><div class="ttdeci">void validate() const</div><div class="ttdoc">Asserts that the data structure is internally consistent.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:394</div></div>
<div class="ttc" id="aclassbv_1_1node_html_afd5c13dba4cac468ffc2513f55335dae"><div class="ttname"><a href="classbv_1_1node.html#afd5c13dba4cac468ffc2513f55335dae">bv::node::transfer_prepend</a></div><div class="ttdeci">void transfer_prepend(node *other, uint8_t elems)</div><div class="ttdoc">Moves the last &quot;elems&quot; elements from &quot;other&quot; to the start of &quot;this&quot;.</div><div class="ttdef"><b>Definition:</b> node.hpp:466</div></div>
<div class="ttc" id="aclassbv_1_1leaf_html_aae36d25acec747b82fb12da32c347661"><div class="ttname"><a href="classbv_1_1leaf.html#aae36d25acec747b82fb12da32c347661">bv::leaf::select</a></div><div class="ttdeci">uint32_t select(const uint32_t x) const</div><div class="ttdoc">Index of the xth 1-bit in the data structure.</div><div class="ttdef"><b>Definition:</b> leaf.hpp:444</div></div>
<div class="ttc" id="aclassbv_1_1node_html_ac847a9047faf8dfbd52b3a2b91197cf0"><div class="ttname"><a href="classbv_1_1node.html#ac847a9047faf8dfbd52b3a2b91197cf0">bv::node::child_count</a></div><div class="ttdeci">uint8_t child_count() const</div><div class="ttdoc">Get the number of children of this node.</div><div class="ttdef"><b>Definition:</b> node.hpp:280</div></div>
<div class="ttc" id="aclassbv_1_1bit__vector_html_ab4d2162a502c79f77869c4bd1aaf2446"><div class="ttname"><a href="classbv_1_1bit__vector.html#ab4d2162a502c79f77869c4bd1aaf2446">bv::bit_vector::print</a></div><div class="ttdeci">void print(bool internal_only) const</div><div class="ttdoc">Output data structure to standard out as json.</div><div class="ttdef"><b>Definition:</b> bit_vector.hpp:416</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 24 2021 14:19:39 for Bit vector by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
